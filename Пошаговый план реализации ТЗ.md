1.  [x] **Базовая подготовка проекта:** проверить совместимость окружения Laravel + PostgreSQL + Filament v3, установить/обновить пакеты (drafts, medialibrary, sluggable, userstamps, settings, permission, honeypot, Turnstile, Fabricator и др.), настроить роли super_admin/admin и блокировку is_active для пользователей.
2.  [x] **Инфраструктура общих требований:** создать общий трейт/базу для контентных моделей с едиными полями (title, slug, SEO, publish, userstamps, soft deletes), автогенерацией slug (spatie/laravel-sluggable), userstamps (wildside/userstamps) и корректной работой oddvalue/laravel-drafts (Create/Edit/Discard/Publish/Preview, m2m связи), добавить NoIndexMiddleware и запрет /preview в robots.
3.  [x] **Миграции и модели контентных сущностей:** добавить таблицы/модели для услуг, товаров, категорий, новостей, портфолио, производственных возможностей с обязательными полями/индексами, pivot для связей портфолио↔товары/услуги с сортировкой и каскадами, а также нормализованные таблицы фильтров каталога (attributes/values/category binding/pivot) с приоритетом нормализованной схемы.
4.  [x] **Модуль меню:** создать таблицы menus и menu_items с вложенностью, типами ссылок (url/route/model), флагами видимости, сортировкой и soft deletes при необходимости; реализовать Filament-ресурсы с выбором сущностей для model-ссылок.
5.  [x] **Модуль форм:** добавить миграции forms, form_fields, form_submissions, form_submission_files (MediaLibrary для файлов); реализовать антиспам (Turnstile, honeypot, rate limit по IP/форме с настройками/дефолтами), обработку файлов, webhook/email-уведомления с Reply-To, статусы заявок и логи отправки; построить Filament-ресурсы Forms с вложенными Fields и Submissions с фильтрами, статусами, payload/meta и действиями (spam, экспорт, soft delete/restore).
6.  [x] **Settings и статические страницы:** настроить spatie/laravel-settings для контактов, блока «О нас», логотипа/фавикона и базовых SEO без черновиков, с валидацией; интегрировать Fabricator для страницы home с идентификатором slug и поддержкой черновиков/предпросмотра блоков.
7.  [x] **Админ-панель Filament:** для всех сущностей добавить таблицы с колонками title/slug/publish/meta, фильтры (published, trashed, drafts), массовые действия Publish/Unpublish/Restore/Delete; формы с секциями SEO, контентом, медиа с обязательными alt/title, блоком публикации и readonly-метаданными; action Preview только для авторизованных админов.
8.  [x] **Медиа и валидации:** интегрировать Spatie MediaLibrary + Filament плагин с обязательными custom_properties alt/title (валидировать, запрет сохранять без них); обеспечить серверные валидации для CRUD и submit форм, включая публикацию и статусы.
9.  [x] **Разрешения и безопасность:** настроить spatie/laravel-permission для granular действий (publish/unpublish, force delete только super_admin), ограничить доступ к предпросмотру, исключить его из sitemap, применить middleware/guards для Filament routes.
10. [ ] **Тестирование и контроль качества:** покрыть миграции/модели/ресурсы тестами (публикация/черновики, media alt/title, формы: антиспам, rate limit, уведомления, меню, фильтры каталога), проверить индексы/FK/уникальности и политику каскадов (`*_by` SET NULL, pivot CASCADE), убедиться в соответствии критериям DoD.
## ЗАДАЧИ ДЛЯ УЛУЧШЕНИЯ (Рекомендуется выполнить перед релизом)
11. [ ] **Активити и резервные сценарии:** внедрить spatie/laravel-activitylog для аудита изменений и, при необходимости, отдельные таблицы логов отправки уведомлений.
12. [ ] **Оптимизация предпросмотра и SEO:** добавить единый middleware/хелперы для meta robots в шаблонах предпросмотра и убедиться, что preview-роуты полностью исключены из sitemap и индексации.
